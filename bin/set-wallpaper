#!/usr/bin/env bash
set -euo pipefail

image="${1:-}"

if [[ -z "$image" ]]; then
    echo "Usage: set-wallpaper <image>"
    exit 1
fi

image="$(realpath "$image")"

ln -sf "$image" "$HOME/.current_wallpaper"

pgrep -x awww-daemon >/dev/null || awww init

awww img "$image" \
  --transition-type grow \
  --transition-fps 60 \
  --transition-duration 1.0
